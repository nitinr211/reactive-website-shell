{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\wamp46\\\\www\\\\reactive-website-builder\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// App.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport MainMenu from './menu/MainMenu';\nimport Databases from './databases/Databases';\nimport FileLoader from './menu/FileLoader';\nimport Metrics from './metrics/Metrics';\nimport TextList from './builder/TextList';\nimport BuilderTable from './BuilderTable';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [showDatabases, setShowDatabases] = useState(false);\n  const [showFileLoader, setShowFileLoader] = useState(false);\n  const [showMetrics, setShowMetrics] = useState(false);\n  const [showTextList, setShowTextList] = useState(false); // State for TextList visibility\n  const [iframeSrc, setIframeSrc] = useState('http://localhost:3000/output.html');\n  useEffect(() => {\n    // Load external script\n    const loadScript = () => {\n      const script = document.createElement('script');\n      script.src = '/add.js'; // Replace with the actual path to add.js\n      script.type = 'text/javascript';\n      script.async = true;\n      script.onload = () => console.log('add.js script loaded successfully');\n      document.body.appendChild(script);\n    };\n    loadScript();\n\n    // Listen for messages from iframe\n    const handleMessage = event => {\n      console.log('Message received in parent app:', event);\n      if (event.data && event.data.dataArId) {\n        console.log('Received dataArId from iframe:', event.data.dataArId);\n        // removeElementFromServer(event.data.dataArId); // Directly call the server removal function\n      }\n    };\n\n    window.addEventListener('message', handleMessage);\n\n    // Cleanup on unmount\n    return () => {\n      window.removeEventListener('message', handleMessage);\n    };\n  }, []);\n  useEffect(() => {\n    // Function to check the status of \"Selected\" column\n    const checkSelectedStatus = async () => {\n      try {\n        const response = await axios.get('http://localhost:5000/check-selected');\n        const newShowTextList = response.data.showTextList === 1;\n        setShowTextList(newShowTextList); // Update state with response\n        console.log(`showTextList is now: ${newShowTextList}`);\n      } catch (error) {\n        console.error('Error fetching selected status:', error);\n      }\n    };\n\n    // Set interval to call checkSelectedStatus periodically\n    const intervalId = setInterval(checkSelectedStatus, 5000); // Check every 5 seconds\n\n    // Cleanup interval on unmount\n    return () => clearInterval(intervalId);\n  }, []);\n\n  // Handlers to show specific components\n  const handleShowDatabases = () => {\n    setShowDatabases(true);\n    setShowFileLoader(false);\n    setShowMetrics(false);\n  };\n  const handleShowFileLoader = () => {\n    setShowDatabases(false);\n    setShowFileLoader(true);\n    setShowMetrics(false);\n  };\n  const handleShowMetrics = () => {\n    setShowDatabases(false);\n    setShowFileLoader(false);\n    setShowMetrics(true);\n  };\n  const handleShowCRM = () => {\n    // Set iframeSrc to localhost:8080 when CRM is selected\n    setIframeSrc('http://localhost:8080');\n    setShowDatabases(false);\n    setShowFileLoader(true);\n    setShowMetrics(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(MainMenu, {\n      onShowDatabases: handleShowDatabases,\n      onShowFileLoader: handleShowFileLoader,\n      onShowMetrics: handleShowMetrics,\n      onShowCRM: handleShowCRM\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [showDatabases && /*#__PURE__*/_jsxDEV(Databases, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 35\n      }, this), showMetrics && /*#__PURE__*/_jsxDEV(Metrics, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 33\n      }, this), showFileLoader && /*#__PURE__*/_jsxDEV(FileLoader, {\n        setIframeSrc: setIframeSrc,\n        iframeSrc: iframeSrc,\n        onSetShowTextList: setShowTextList // Directly set state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }, this), showTextList && /*#__PURE__*/_jsxDEV(TextList, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 34\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"ZMqH5X4JM2XtUfqoGSpaC+TzKeg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","MainMenu","Databases","FileLoader","Metrics","TextList","BuilderTable","axios","jsxDEV","_jsxDEV","App","_s","showDatabases","setShowDatabases","showFileLoader","setShowFileLoader","showMetrics","setShowMetrics","showTextList","setShowTextList","iframeSrc","setIframeSrc","loadScript","script","document","createElement","src","type","async","onload","console","log","body","appendChild","handleMessage","event","data","dataArId","window","addEventListener","removeEventListener","checkSelectedStatus","response","get","newShowTextList","error","intervalId","setInterval","clearInterval","handleShowDatabases","handleShowFileLoader","handleShowMetrics","handleShowCRM","children","onShowDatabases","onShowFileLoader","onShowMetrics","onShowCRM","fileName","_jsxFileName","lineNumber","columnNumber","className","onSetShowTextList","_c","$RefreshReg$"],"sources":["C:/wamp64/wamp46/www/reactive-website-builder/src/App.js"],"sourcesContent":["// App.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport MainMenu from './menu/MainMenu';\nimport Databases from './databases/Databases';\nimport FileLoader from './menu/FileLoader';\nimport Metrics from './metrics/Metrics';\nimport TextList from './builder/TextList';\nimport BuilderTable from './BuilderTable';\nimport axios from 'axios';\n\n\nfunction App() {\n    const [showDatabases, setShowDatabases] = useState(false);\n    const [showFileLoader, setShowFileLoader] = useState(false);\n    const [showMetrics, setShowMetrics] = useState(false);\n    const [showTextList, setShowTextList] = useState(false); // State for TextList visibility\n    const [iframeSrc, setIframeSrc] = useState('http://localhost:3000/output.html');\n\n    useEffect(() => {\n        // Load external script\n        const loadScript = () => {\n            const script = document.createElement('script');\n            script.src = '/add.js'; // Replace with the actual path to add.js\n            script.type = 'text/javascript';\n            script.async = true;\n            script.onload = () => console.log('add.js script loaded successfully');\n            document.body.appendChild(script);\n        };\n\n        loadScript();\n\n        // Listen for messages from iframe\n        const handleMessage = (event) => {\n            console.log('Message received in parent app:', event);\n            if (event.data && event.data.dataArId) {\n                console.log('Received dataArId from iframe:', event.data.dataArId);\n                // removeElementFromServer(event.data.dataArId); // Directly call the server removal function\n            }\n        };\n\n        window.addEventListener('message', handleMessage);\n\n        // Cleanup on unmount\n        return () => {\n            window.removeEventListener('message', handleMessage);\n        };\n    }, []);\n\n    useEffect(() => {\n        // Function to check the status of \"Selected\" column\n        const checkSelectedStatus = async () => {\n            try {\n                const response = await axios.get('http://localhost:5000/check-selected');\n                const newShowTextList = response.data.showTextList === 1;\n                setShowTextList(newShowTextList); // Update state with response\n                console.log(`showTextList is now: ${newShowTextList}`);\n            } catch (error) {\n                console.error('Error fetching selected status:', error);\n            }\n        };\n\n        // Set interval to call checkSelectedStatus periodically\n        const intervalId = setInterval(checkSelectedStatus, 5000); // Check every 5 seconds\n\n        // Cleanup interval on unmount\n        return () => clearInterval(intervalId);\n    }, []);\n\n    // Handlers to show specific components\n    const handleShowDatabases = () => {\n        setShowDatabases(true);\n        setShowFileLoader(false);\n        setShowMetrics(false);\n    };\n\n    const handleShowFileLoader = () => {\n        setShowDatabases(false);\n        setShowFileLoader(true);\n        setShowMetrics(false);\n    };\n\n    const handleShowMetrics = () => {\n        setShowDatabases(false);\n        setShowFileLoader(false);\n        setShowMetrics(true);\n    };\n\n    const handleShowCRM = () => {\n        // Set iframeSrc to localhost:8080 when CRM is selected\n        setIframeSrc('http://localhost:8080');\n        setShowDatabases(false);\n        setShowFileLoader(true);\n        setShowMetrics(false);\n    };\n\n    return (\n        <div>\n            <MainMenu\n                onShowDatabases={handleShowDatabases}\n                onShowFileLoader={handleShowFileLoader}\n                onShowMetrics={handleShowMetrics}\n                onShowCRM={handleShowCRM}\n            />\n            <div className=\"app-container\">\n                {showDatabases && <Databases />}\n                {showMetrics && <Metrics />}\n                {showFileLoader && (\n                    <FileLoader\n                        setIframeSrc={setIframeSrc}\n                        iframeSrc={iframeSrc}\n                        onSetShowTextList={setShowTextList} // Directly set state\n                    />\n                )}\n                {showTextList && <TextList />} {/* Conditionally render TextList */}\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}